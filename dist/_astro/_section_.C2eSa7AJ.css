body{font-family:Georgia,serif;max-width:800px;margin:0 auto;padding:20px;line-height:1.6;background-color:#fafafa;min-height:100vh}body:has(.visualization-container),body:has(.branches-container){max-width:100%}.loading,.error{text-align:center;padding:40px;background:#fff;margin:20px;box-shadow:0 2px 4px #0000001a}.error{color:#c41e3a}.header{background:#fff;padding:20px;margin-bottom:20px;box-shadow:0 2px 4px #0000001a;display:flex;justify-content:space-between;align-items:center}.header-actions{display:flex;gap:10px}.header h1{margin:0;color:#c41e3a;font-size:1.5em}#reset-btn{background-color:#c41e3a;color:#fff;border:none;padding:10px 20px;font-size:1em;cursor:pointer;border-radius:4px;font-family:Georgia,serif;transition:background-color .3s}#reset-btn:hover{background-color:#a0172e}#reset-btn:active{background-color:#7d1123}#map-btn,#back-btn,#branches-btn{background-color:#2d5016;color:#fff;border:none;padding:10px 20px;font-size:1em;cursor:pointer;border-radius:4px;font-family:Georgia,serif;transition:background-color .3s}#map-btn:hover,#back-btn:hover,#branches-btn:hover{background-color:#1f350f}#map-btn:active,#back-btn:active,#branches-btn:active{background-color:#15250a}.section-container{background:#fff;padding:40px;box-shadow:0 2px 4px #0000001a;min-height:400px}.section-container h1{color:#c41e3a;border-bottom:3px solid #c41e3a;padding-bottom:10px;margin-top:0}.section-container h2{color:#2d5016;margin-top:30px}.choices-container{margin-top:30px}.choice-btn{display:block;width:100%;margin:15px 0;padding:15px 20px;background-color:#f0f0f0;border:2px solid #c41e3a;border-left:6px solid #c41e3a;color:#333;text-align:left;font-size:1em;font-family:Georgia,serif;cursor:pointer;transition:all .3s;border-radius:4px}.choice-btn:hover{background-color:#e0e0e0;border-color:#a0172e;border-left-color:#a0172e;transform:translate(5px)}.choice-btn:active{background-color:#d0d0d0}.section-body{margin-bottom:20px}.visualization-container{background:#fff;box-shadow:0 2px 4px #0000001a;min-height:400px;overflow:auto;max-width:100%;width:100%;margin-left:-20px;margin-right:-20px;padding:40px}.visualization-container h1{color:#c41e3a;border-bottom:3px solid #c41e3a;padding-bottom:10px;margin-top:0;margin-bottom:30px}.visualization-graph{position:relative;min-height:600px;width:100%;max-width:100%}.connection-lines{overflow:visible}.graph-nodes-wrapper{position:relative;width:100%;height:100%}.graph-node{background:#f9f9f9;border:2px solid #c41e3a;border-radius:8px;padding:12px;min-width:180px;max-width:220px;position:absolute;box-shadow:0 2px 4px #0000001a;cursor:default;font-size:.75em}.node-content{display:flex;flex-direction:column;gap:8px}.node-title{color:#c41e3a;margin:0;font-size:1em;border-bottom:2px solid #c41e3a;padding-bottom:6px;line-height:1.2}.node-choices{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:6px}.node-choice{padding:6px;background:#fff;border-left:3px solid #2d5016;border-radius:3px;font-size:.8em;line-height:1.3}.choice-target{display:block;margin-top:3px;font-size:.7em;color:#666;font-style:italic;line-height:1.2}.node-end{padding:6px;background:#e8f5e9;border-left:3px solid #2d5016;border-radius:3px;text-align:center;font-style:italic;color:#2d5016;font-size:.8em}@media(max-width:768px){.graph-node{min-width:200px;max-width:100%}.visualization-graph{width:100%!important;height:600px!important}.header{flex-direction:column;gap:15px;align-items:flex-start}.header-actions{width:100%;flex-direction:column}#reset-btn,#map-btn,#back-btn,#branches-btn{width:100%}}.branches-container{background:#fff;padding:40px;box-shadow:0 2px 4px #0000001a;min-height:400px;max-width:1200px;margin:0 auto}.branches-container h1{color:#c41e3a;border-bottom:3px solid #c41e3a;padding-bottom:10px;margin-top:0;margin-bottom:20px}.branches-intro{color:#666;font-style:italic;margin-bottom:10px}.branches-count{color:#2d5016;font-weight:700;margin-bottom:30px}.branches-list{display:flex;flex-direction:column;gap:20px}.branch-item{border:2px solid #c41e3a;border-radius:8px;overflow:hidden;background:#fafafa}.branch-header{background:#c41e3a;color:#fff;padding:15px 20px;cursor:pointer;display:flex;align-items:center;gap:15px;transition:background-color .3s}.branch-header:hover{background:#a0172e}.branch-toggle{font-size:.8em;min-width:20px}.branch-title{font-weight:700;flex:1}.branch-end{font-size:.9em;opacity:.9}.branch-content{padding:20px;display:flex;flex-direction:column;gap:15px}.section-item{border:1px solid #ddd;border-radius:6px;background:#fff;overflow:hidden}.section-header{background:#f0f0f0;padding:12px 15px;cursor:pointer;display:flex;align-items:center;gap:12px;transition:background-color .3s;border-bottom:1px solid #ddd}.section-header:hover{background:#e0e0e0}.section-toggle{font-size:.8em;min-width:18px;color:#c41e3a}.section-id{font-family:monospace;background:#2d5016;color:#fff;padding:4px 8px;border-radius:4px;font-size:.85em;font-weight:700}.section-title{flex:1;color:#333;font-weight:500}.section-content{padding:20px}.section-meta{background:#f9f9f9;padding:15px;border-radius:6px;margin-bottom:20px;border-left:4px solid #2d5016}.meta-item{margin-bottom:10px}.meta-item:last-child{margin-bottom:0}.meta-item code{background:#e8e8e8;padding:2px 6px;border-radius:3px;font-family:monospace;font-size:.9em;color:#c41e3a}.choice-path{padding-top:10px;border-top:1px solid #ddd;color:#2d5016;font-style:italic}.section-body{line-height:1.8;color:#333;margin-bottom:20px}.section-body p{margin-bottom:15px}.section-body em{font-style:italic;color:#555}.section-choices-info{background:#fff9e6;padding:15px;border-radius:6px;border-left:4px solid #ffa500;margin-top:20px}.section-choices-info strong{color:#2d5016;display:block;margin-bottom:10px}.section-choices-info ul{margin:0;padding-left:20px}.section-choices-info li{margin-bottom:8px;color:#555}@media(max-width:768px){.branches-container{padding:20px}.branch-header{flex-direction:column;align-items:flex-start;gap:10px}.section-header{flex-wrap:wrap}.section-id{font-size:.75em}}
